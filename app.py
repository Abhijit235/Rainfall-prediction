# -*- coding: utf-8 -*-
"""Untitled14.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1WkDnKp-QYIB961qX_CF4tcZxrRKN8-II
"""

import streamlit as st
import pandas as pd
import pickle

# Load your trained model (make sure the model file is in the same directory)
with open('xgb.pkl', 'rb') as file:
    xgb_model = pickle.load(file)

# Define function to make predictions
def predict_rain(input_data):
    prediction = xgb_model.predict(input_data)
    return "Yes" if prediction[0] == 1 else "No"

# Set up the Streamlit app
st.title("Rain Prediction App")

# User inputs
Location = st.text_input("Location")
MinTemp = st.number_input("Min Temperature")
MaxTemp = st.number_input("Max Temperature")
Rainfall = st.number_input("Rainfall")
Evaporation = st.number_input("Evaporation")
Sunshine = st.number_input("Sunshine")
WindGustSpeed = st.number_input("Wind Gust Speed")
WindSpeed9am = st.number_input("Wind Speed at 9am")
WindSpeed3pm = st.number_input("Wind Speed at 3pm")
Humidity9am = st.number_input("Humidity at 9am")
Humidity3pm = st.number_input("Humidity at 3pm")
Pressure9am = st.number_input("Pressure at 9am")
Pressure3pm = st.number_input("Pressure at 3pm")
Temp9am = st.number_input("Temperature at 9am")
Temp3pm = st.number_input("Temperature at 3pm")
WindGustDir = st.text_input("Wind Gust Direction")
WindDir9am = st.text_input("Wind Direction at 9am")
WindDir3pm = st.text_input("Wind Direction at 3pm")
Cloud9am = st.number_input("Cloud at 9am")
Cloud3pm = st.number_input("Cloud at 3pm")
Date_month = st.number_input("Date Month")
Date_day = st.number_input("Date Day")
RainToday = st.number_input("Rain Today (1 for Yes, 0 for No)")

# Create a DataFrame for input data
input_data = pd.DataFrame({
    'Location': [Location],
    'MinTemp': [MinTemp],
    'MaxTemp': [MaxTemp],
    'Rainfall': [Rainfall],
    'Evaporation': [Evaporation],
    'Sunshine': [Sunshine],
    'WindGustSpeed': [WindGustSpeed],
    'WindSpeed9am': [WindSpeed9am],
    'WindSpeed3pm': [WindSpeed3pm],
    'Humidity9am': [Humidity9am],
    'Humidity3pm': [Humidity3pm],
    'Pressure9am': [Pressure9am],
    'Pressure3pm': [Pressure3pm],
    'Temp9am': [Temp9am],
    'Temp3pm': [Temp3pm],
    'WindGustDir': [WindGustDir],
    'WindDir9am': [WindDir9am],
    'WindDir3pm': [WindDir3pm],
    'Cloud9am': [Cloud9am],
    'Cloud3pm': [Cloud3pm],
    'Date_month': [Date_month],
    'Date_day': [Date_day],
    'RainToday': [RainToday]
})

# When the button is clicked
if st.button("Predict"):
    result = predict_rain(input_data)
    st.success(f"Will it rain tomorrow? {result}")

